# AIå…«å­—ç®—å‘½ Webåº”ç”¨

åŸºäºä¼ ç»Ÿå…«å­—å‘½ç†ä¸ç°ä»£AIæŠ€æœ¯çš„Webåº”ç”¨ï¼Œå‰åç«¯å®Œå…¨åˆ†ç¦»ã€‚

## ğŸ¯ é¡¹ç›®ç‰¹ç‚¹

- âœ… **å‰åç«¯åˆ†ç¦»** - ä¾¿äºç‹¬ç«‹å¼€å‘å’Œéƒ¨ç½²
- ğŸ¤– **AIæ™ºèƒ½è§£è¯»** - ä½¿ç”¨Claude Sonnet 4
- ğŸ¨ **ä¸­å¼ç¾å­¦** - ä¼ ç»Ÿä¸ç°ä»£ç»“åˆçš„è®¾è®¡
- ğŸ“± **å“åº”å¼è®¾è®¡** - å®Œç¾æ”¯æŒç§»åŠ¨ç«¯
- ğŸ”’ **éšç§ä¿æŠ¤** - ä¸å­˜å‚¨ä»»ä½•ç”¨æˆ·æ•°æ®
- âš¡ **å³æ—¶å“åº”** - æ— éœ€æ³¨å†Œï¼Œå³åˆ»ä½¿ç”¨

## ğŸ“ é¡¹ç›®ç»“æ„

```
bazi-app/
â”œâ”€â”€ backend/              # åç«¯æœåŠ¡ï¼ˆNode.js + Expressï¼‰
â”‚   â”œâ”€â”€ server.js         # æœåŠ¡å™¨ä¸»æ–‡ä»¶
â”‚   â”œâ”€â”€ routes/           # APIè·¯ç”±
â”‚   â”œâ”€â”€ utils/            # å·¥å…·å‡½æ•°
â”‚   â”œâ”€â”€ package.json
â”‚   â””â”€â”€ README.md
â”‚
â”œâ”€â”€ frontend/             # å‰ç«¯é¡µé¢ï¼ˆçº¯HTML/CSS/JSï¼‰
â”‚   â”œâ”€â”€ index.html
â”‚   â”œâ”€â”€ css/
â”‚   â”œâ”€â”€ js/
â”‚   â””â”€â”€ README.md
â”‚
â””â”€â”€ README.md            # æœ¬æ–‡ä»¶
```

## ğŸš€ å¿«é€Ÿå¼€å§‹

### 1ï¸âƒ£ å¯åŠ¨åç«¯

```bash
cd backend

# å®‰è£…ä¾èµ–
npm install

# é…ç½®ç¯å¢ƒå˜é‡
cp .env.example .env
# ç¼–è¾‘ .env æ–‡ä»¶ï¼Œå¡«å…¥ä½ çš„ ANTHROPIC_API_KEY

# å¯åŠ¨æœåŠ¡
npm start
```

åç«¯å°†è¿è¡Œåœ¨ï¼šhttp://localhost:3000

### 2ï¸âƒ£ å¯åŠ¨å‰ç«¯

```bash
cd frontend

# ä½¿ç”¨ VS Code Live Server
# æˆ–è€…ä½¿ç”¨ Python
python -m http.server 5500

# æˆ–è€…ä½¿ç”¨ Node.js http-server
npx http-server -p 5500
```

å‰ç«¯å°†è¿è¡Œåœ¨ï¼šhttp://localhost:5500

### 3ï¸âƒ£ è®¿é—®åº”ç”¨

æ‰“å¼€æµè§ˆå™¨è®¿é—®ï¼šhttp://localhost:5500

## ğŸ”§ é…ç½®è¯´æ˜

### åç«¯é…ç½®

ç¼–è¾‘ `backend/.env`ï¼š

```env
ANTHROPIC_API_KEY=sk-ant-api03-ä½ çš„å¯†é’¥
PORT=3000
FRONTEND_URL=http://localhost:5500
```

### å‰ç«¯é…ç½®

ç¼–è¾‘ `frontend/js/config.js`ï¼š

```javascript
const CONFIG = {
    API_BASE_URL: 'http://localhost:3000/api',
    DEBUG: true
};
```

## ğŸ“– APIæ–‡æ¡£

### POST /api/calculate

**è¯·æ±‚ï¼š**
```json
{
  "birthdate": "1990-01-01",
  "calendarType": "solar",
  "birthTime": "09-11",
  "gender": "male",
  "city": "åŒ—äº¬"
}
```

**å“åº”ï¼š**
```json
{
  "success": true,
  "pillars": { ... },
  "elements": { ... },
  "interpretation": {
    "overview": "...",
    "personality": "...",
    "love": "...",
    "career": "...",
    "wealth": "...",
    "health": "..."
  }
}
```

## ğŸ¨ åŠŸèƒ½å±•ç¤º

### è¾“å…¥ç•Œé¢
- ç”Ÿæ—¥é€‰æ‹©ï¼ˆå…¬å†/å†œå†ï¼‰
- æ—¶è¾°é€‰æ‹©ï¼ˆ12æ—¶è¾°ï¼‰
- æ€§åˆ«é€‰æ‹©
- åŸå¸‚è¾“å…¥ï¼ˆå¯é€‰ï¼‰

### ç»“æœå±•ç¤º
- å››æŸ±å…«å­—å±•ç¤º
- äº”è¡Œåˆ†å¸ƒ
- AIæ™ºèƒ½è§£è¯»ï¼ˆ6ä¸ªç»´åº¦ï¼‰

## ğŸ”„ å¼€å‘æµç¨‹

1. **åç«¯å¼€å‘**
   - ä¿®æ”¹ `backend/routes/bazi.js` æ·»åŠ æ–°æ¥å£
   - ä¿®æ”¹ `backend/utils/` ä¸­çš„å·¥å…·å‡½æ•°
   - ä½¿ç”¨ `npm run dev` è‡ªåŠ¨é‡å¯

2. **å‰ç«¯å¼€å‘**
   - ä¿®æ”¹ `frontend/index.html` è°ƒæ•´ç»“æ„
   - ä¿®æ”¹ `frontend/css/style.css` è°ƒæ•´æ ·å¼
   - ä¿®æ”¹ `frontend/js/app.js` æ·»åŠ åŠŸèƒ½
   - ä½¿ç”¨Live Serverå®æ—¶é¢„è§ˆ

## ğŸ“¦ éƒ¨ç½²æ–¹æ¡ˆ

### åç«¯éƒ¨ç½²

**æ–¹æ¡ˆ1ï¼šä¼ ç»ŸVPS**
```bash
# ä½¿ç”¨PM2
pm2 start backend/server.js --name bazi-backend
```

**æ–¹æ¡ˆ2ï¼šäº‘å¹³å°**
- Render
- Railway
- Heroku

### å‰ç«¯éƒ¨ç½²

**æ–¹æ¡ˆ1ï¼šé™æ€æ‰˜ç®¡**
- Vercel
- Netlify
- GitHub Pages

**æ–¹æ¡ˆ2ï¼šCDN**
- Cloudflare Pages
- AWS S3 + CloudFront

### CORSé…ç½®

éƒ¨ç½²åè®°å¾—æ›´æ–°ï¼š
- åç«¯ `.env` ä¸­çš„ `FRONTEND_URL`
- å‰ç«¯ `config.js` ä¸­çš„ `API_BASE_URL`

## ğŸ› ï¸ æŠ€æœ¯æ ˆ

### åç«¯
- Node.js 18+
- Express 4
- Anthropic Claude API

### å‰ç«¯
- çº¯HTML5
- CSS3ï¼ˆæ— é¢„å¤„ç†å™¨ï¼‰
- åŸç”ŸJavaScriptï¼ˆæ— æ¡†æ¶ï¼‰

## ğŸ“ æ³¨æ„äº‹é¡¹

### APIæˆæœ¬
- Claude Sonnet 4: ~$0.015/æ¬¡
- å»ºè®®æ·»åŠ ç¼“å­˜æœºåˆ¶
- ä½¿ç”¨Rate Limitingé˜²æ­¢æ»¥ç”¨

### å®‰å…¨å»ºè®®
1. ä¸è¦å°† `.env` æ–‡ä»¶æäº¤åˆ°Git
2. ç”Ÿäº§ç¯å¢ƒä½¿ç”¨HTTPS
3. å¯ç”¨CORSç™½åå•
4. æ·»åŠ è¯·æ±‚é¢‘ç‡é™åˆ¶

### æ€§èƒ½ä¼˜åŒ–
1. åç«¯æ·»åŠ Redisç¼“å­˜
2. å‰ç«¯èµ„æºå‹ç¼©
3. ä½¿ç”¨CDNåŠ é€Ÿ
4. å¯ç”¨Gzipå‹ç¼©

## ğŸ› å¸¸è§é—®é¢˜

### Q: å‰ç«¯æ— æ³•è¿æ¥åç«¯ï¼Ÿ
A: æ£€æŸ¥ï¼š
1. åç«¯æ˜¯å¦å¯åŠ¨ï¼ˆè®¿é—® http://localhost:3000/healthï¼‰
2. CORSé…ç½®æ˜¯å¦æ­£ç¡®
3. `config.js` ä¸­çš„APIåœ°å€æ˜¯å¦æ­£ç¡®

### Q: APIè°ƒç”¨å¤±è´¥ï¼Ÿ
A: æ£€æŸ¥ï¼š
1. `ANTHROPIC_API_KEY` æ˜¯å¦é…ç½®
2. APIå¯†é’¥æ˜¯å¦æœ‰æ•ˆ
3. ç½‘ç»œè¿æ¥æ˜¯å¦æ­£å¸¸

### Q: æ’ç›˜ç»“æœä¸å‡†ç¡®ï¼Ÿ
A: å½“å‰ä½¿ç”¨ç®€åŒ–ç®—æ³•ï¼Œå»ºè®®ä½¿ç”¨ `lunar-javascript` åº“ï¼š
```bash
cd backend
npm install lunar-javascript
```

## ğŸ“š æ‰©å±•åŠŸèƒ½

å¯ä»¥è€ƒè™‘æ·»åŠ ï¼š
- [ ] æµå¹´è¿åŠ¿é¢„æµ‹
- [ ] å¤§è¿åˆ†æ
- [ ] åˆå©šé…å¯¹
- [ ] PDFæŠ¥å‘Šå¯¼å‡º
- [ ] ç”¨æˆ·å†å²è®°å½•ï¼ˆLocalStorageï¼‰
- [ ] ç¤¾äº¤åˆ†äº«
- [ ] å¤šè¯­è¨€æ”¯æŒ

## ğŸ“„ è®¸å¯è¯

MIT License

## ğŸ™ è‡´è°¢

- Anthropic Claude API
- Google Fonts (Noto Serif SC)

---

**å…è´£å£°æ˜**ï¼šæœ¬åº”ç”¨ä»…ä¾›å¨±ä¹å‚è€ƒï¼Œä¸æ„æˆä»»ä½•åŒ»ç–—ã€æ³•å¾‹ã€é‡‘èå»ºè®®ã€‚